
      <!DOCTYPE HTML>
      <html lang=en>
        <meta charset=utf-8>
        <title>perl-web-utils</title>
        <link rel=stylesheet href="https://manakai.github.io/css/pod.css">
        <meta name=viewport content="width=device-width">

        <h1><a href="../../" rel=top>perl-web-utils</a></h1>

        





<hgroup><h1><code>URL::PercentEncode</code></h1><h2>Safe percent-encoding and percent-decoding implementation</h2></hgroup><section id="IMPORTANT"><h1>IMPORTANT</h1>

<p>This module is now <b>DEPRECATED</b> in favor of new modules: <code class="url">&lt;<a href="https://github.com/manakai/perl-web-url">https://github.com/manakai/perl-web-url</a>&gt;</code>.</p>

</section><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre><code>  use URL::PercentEncode;
  
  my $encoded = percent_encode_c $utf8_string;
  my $encoded = percent_encode_b $byte_string;
  
  my $utf8_string = percent_decode_c $encoded;
  my $byte_string = percent_decode_b $encoded;
  
  my $form_data = parse_form_urlencoded_b $encoded;</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>This module, <code>URL::PercentEncode</code>, provides four functions to percent-encode or percent-decode strings in a slightly safe manner. Any string, utf8-flagged or -unflagged, can be encoded or decoded in URL's %HH format (percent-encoding, formally known as URI escape or URL encoding).</p>

</section><section id="FUNCTIONS"><h1>FUNCTIONS</h1>

<p>The module exports the following functions:</p>

<dl>
<dt id="$encoded_=_percent_encode_c_$utf8_string"><code>$encoded = percent_encode_c $utf8_string</code></dt>

<dd>
<p>Percent-encode a character string (i.e. a utf8-flagged string).</p>

</dd><dt id="$encoded_=_percent_encode_b_$byte_string"><code>$encoded = percent_encode_b $byte_string</code></dt>

<dd>
<p>Percent-encode a byte string.</p>

</dd><dt id="$utf8_string_=_percent_decode_c_$encoded"><code>$utf8_string = percent_decode_c $encoded</code></dt>

<dd>
<p>Decode a percent-encoded utf8 character string.</p>

</dd><dt id="$byte_string_=_percent_decode_b_$encoded"><code>$byte_string = percent_decode_b $encoded</code></dt>

<dd>
<p>Decode a percent-encoded byte string.</p>

</dd><dt id="$form_data_=_parse_form_urlencoded_b_$encoded"><code>$form_data = parse_form_urlencoded_b $encoded</code></dt>

<dd>
<p>Intepret the given string as <code>application/x-www-form-urlencoded</code>-encoded form data set and return the decoded data as a set of byte strings.</p>

<p>The input must be a byte string or the <code>undef</code> value.</p>

<p>The method return a hash reference, which contains zero or more key-value pairs where a value is an array reference. Any name-value pairs contained in the input string is stored in the hash reference as a key and one of values in the array reference for the key. Order of name-value pairs are not preserved as the return value is a hash reference. However, order of values sharing their names are preserved as order of values in the array reference. Values are percent-decoded but left character-encoded (i.e. left as byte strings).</p>

<p>This method is an implementation of the steps to "decode <code>application/x-www-form-urlencoded</code> payloads", except: The <var>isindex</var> flag is not supported. The <var>encoding</var> parameter and the <code>_charset_</code> hack is not supported as the method does not handle character encoding. The <code>U+003B</code> <code>SEMICOLON</code> character (<code>;</code>) is also used as delimiter as well as the <code>U+0026</code> <code>AMPERSAND</code> character (<code>&amp;</code>) for backward compatibility with popular implementations of <code>application/x-www-form-urlencoded</code> decoders (This is a willful violation to the spec).</p>
</dd>
</dl>

</section><section id="SEE_ALSO"><h1>SEE ALSO</h1>

<p>URL (HTML Standard) <code class="url">&lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/complete.html#url">http://www.whatwg.org/specs/web-apps/current-work/complete.html#url</a>&gt;</code>.</p>

<p>URI (RFC 3986) <code class="url">&lt;<a href="http://tools.ietf.org/html/rfc3986">http://tools.ietf.org/html/rfc3986</a>&gt;</code>.</p>

<p>IRI (RFC 3987) <code class="url">&lt;<a href="http://tools.ietf.org/html/rfc3987">http://tools.ietf.org/html/rfc3987</a>&gt;</code>.</p>

<p>The steps to "decode <code>application/x-www-form-urlencoded</code> payloads" (HTML Standard) <code class="url">&lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/#application/x-www-form-urlencoded-encoding-algorithm">http://www.whatwg.org/specs/web-apps/current-work/#application/x-www-form-urlencoded-encoding-algorithm</a>&gt;</code>.</p>

</section><section id="DISTRIBUTION"><h1>DISTRIBUTION</h1>

<p>Latest version of this Perl modules is available in the Git repository: <code class="url">&lt;<a href="https://github.com/wakaba/perl-web-utils">https://github.com/wakaba/perl-web-utils</a>&gt;</code> or <code class="url">&lt;<a href="https://suika.suikawiki.org/gate/git/wi/perl/webutils.git/">https://suika.suikawiki.org/gate/git/wi/perl/webutils.git/</a>&gt;</code>.</p>

</section><section id="CHANGES"><h1>CHANGES</h1>

<dl>
<dt id="2010-04-11_(1.0)">2010-04-11 (1.0)</dt>

<dd>
<p>First version.</p>

</dd><dt id="2012-02-25_(2.0)">2012-02-25 (2.0)</dt>

<dd>
<p>Added <code>application/x-www-form-urlencoded</code> support.</p>
</dd>
</dl>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2010-2012 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section>

        <sw-ads normal></sw-ads>
        <script src="https://manakai.github.io/js/global.js" async></script>

        <footer>
          <ul>
          <li><a href="../../" rel=top>Top</a>
          </ul>
          <sw-ads-notes></sw-ads-notes>
        </footer>
    